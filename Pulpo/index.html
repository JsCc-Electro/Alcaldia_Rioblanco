<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo Pulpo: Propuesta Rioblanco, Tolima</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F8F9FA; color: #1F2937; }
        .chart-container { position: relative; width: 100%; height: 300px; }
        .phase-card { transition: all 0.3s ease; cursor: pointer; }
        .phase-card.active { border-left: 4px solid #0F766E; background-color: #FFFFFF; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        
        /* Estilos de impresi√≥n para reporte f√≠sico */
        @media print {
            nav, .phase-card:not(.active), #volumeSlider, button.no-print { display: none; }
            body { background: white; color: black; }
            .bg-slate-100, .bg-slate-50 { background-color: white !important; border: 1px solid #ddd; }
        }
    </style>
</head>
<body class="text-slate-800">

    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl mr-2">üêô</span>
                    <div>
                        <h1 class="text-xl font-bold text-slate-900 tracking-tight leading-none">Modelo Pulpo</h1>
                        <span class="text-xs text-teal-600 font-medium">Alcald√≠a de Rioblanco | Oficina TIC</span>
                    </div>
                </div>
                <div class="hidden md:flex space-x-8 items-center text-sm font-medium text-slate-500">
                    <a href="#rioblanco" class="text-teal-700 font-bold hover:text-teal-800">Propuesta Rioblanco</a>
                    <a href="#arquitectura" class="hover:text-teal-600">Arquitectura</a>
                    <a href="#roi" class="hover:text-teal-600">ROI Financiero</a>
                    <button onclick="window.print()" class="no-print bg-slate-800 text-white px-3 py-1.5 rounded hover:bg-slate-700 text-xs ml-4">üñ®Ô∏è PDF</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-16">

        <section class="text-center max-w-4xl mx-auto mb-12">
            <h2 class="text-4xl font-extrabold text-slate-900 mb-4">Modernizaci√≥n de la Gesti√≥n Documental</h2>
            <p class="text-lg text-slate-600">
                Una estrategia liderada por el √°rea TIC para transformar el archivo municipal de <strong>Rioblanco, Tolima</strong>, integrando Inteligencia Artificial con el cumplimiento de las Tablas de Retenci√≥n Documental (TRD).
            </p>
        </section>

        <section id="rioblanco" class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
            <div class="bg-teal-900 p-6 text-white">
                <h3 class="text-2xl font-bold flex items-center">
                    <span class="mr-3">üèõÔ∏è</span> Estrategia Local: Del Papel al Dato
                </h3>
                <p class="text-teal-100 text-sm mt-1">Hoja de ruta espec√≠fica para la administraci√≥n municipal.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-0">
                <div class="p-8 border-b md:border-b-0 md:border-r border-slate-100">
                    <h4 class="font-bold text-slate-800 mb-4 uppercase text-xs tracking-wider">El Reto Actual</h4>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="text-amber-500 mr-2">‚ö†Ô∏è</span>
                            <p class="text-sm text-slate-600"><strong>Descentralizaci√≥n Ineficiente:</strong> M√∫ltiples ventanillas f√≠sicas dispersas dificultan la trazabilidad del radicado √∫nico.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="text-amber-500 mr-2">‚ö†Ô∏è</span>
                            <p class="text-sm text-slate-600"><strong>Riesgo Jur√≠dico:</strong> P√©rdida de documentos f√≠sicos en el traslado entre dependencias y dificultad para cumplir tiempos de Ley (15 d√≠as).</p>
                        </li>
                        <li class="flex items-start">
                            <span class="text-amber-500 mr-2">‚ö†Ô∏è</span>
                            <p class="text-sm text-slate-600"><strong>Archivo Sat√©lite:</strong> Acumulaci√≥n de cajas en oficinas sin cumplir est√°ndares del AGN (temperatura/humedad).</p>
                        </li>
                    </ul>
                </div>

                <div class="p-8 bg-teal-50">
                    <h4 class="font-bold text-teal-800 mb-4 uppercase text-xs tracking-wider">La Soluci√≥n TIC Propuesta</h4>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <div class="bg-white p-1 rounded shadow-sm mr-3 text-teal-600">üìÇ</div>
                            <div>
                                <h5 class="font-bold text-sm text-slate-800">Digitalizaci√≥n Certificada</h5>
                                <p class="text-xs text-slate-600">Implementaci√≥n de esc√°neres OCR en ventanilla √∫nica. Todo documento f√≠sico se convierte en PDF/A con valor legal inmediato.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <div class="bg-white p-1 rounded shadow-sm mr-3 text-teal-600">üè∑Ô∏è</div>
                            <div>
                                <h5 class="font-bold text-sm text-slate-800">Automatizaci√≥n de TRD</h5>
                                <p class="text-xs text-slate-600">El "Modelo Pulpo" sugiere autom√°ticamente la serie y subserie documental (ej. <i>Contratos > Prestaci√≥n de Servicios</i>) reduciendo errores de archivo.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <div class="bg-white p-1 rounded shadow-sm mr-3 text-teal-600">‚òÅÔ∏è</div>
                            <div>
                                <h5 class="font-bold text-sm text-slate-800">Soberan√≠a de Datos</h5>
                                <p class="text-xs text-slate-600">Repositorio local h√≠brido (Servidor Alcald√≠a + Backup Nube) para garantizar acceso incluso con fallas de internet en el municipio.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="arquitectura">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-slate-900">Arquitectura del Sistema</h3>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <div class="lg:col-span-4 space-y-3">
                    <button onclick="updateArch('ingesta')" id="btn-ingesta" class="phase-card active w-full text-left p-4 rounded-lg border border-slate-200 bg-white">
                        <span class="font-bold text-slate-800 block">1. Ingesta (Ventanilla)</span>
                        <span class="text-xs text-slate-500">Recepci√≥n f√≠sica y digital</span>
                    </button>
                    <button onclick="updateArch('analisis')" id="btn-analisis" class="phase-card w-full text-left p-4 rounded-lg border border-slate-200 bg-slate-50">
                        <span class="font-bold text-slate-800 block">2. Inteligencia (IA)</span>
                        <span class="text-xs text-slate-500">Clasificaci√≥n y Lectura</span>
                    </button>
                    <button onclick="updateArch('asignacion')" id="btn-asignacion" class="phase-card w-full text-left p-4 rounded-lg border border-slate-200 bg-slate-50">
                        <span class="font-bold text-slate-800 block">3. Distribuci√≥n</span>
                        <span class="text-xs text-slate-500">Enrutamiento a Secretar√≠as</span>
                    </button>
                </div>
                <div class="lg:col-span-8 bg-white rounded-xl shadow-sm border border-slate-200 p-6 flex flex-col justify-center min-h-[300px]">
                    <div id="arch-content"></div>
                </div>
            </div>
        </section>

        <section id="roi">
            <div class="mb-6">
                <h3 class="text-2xl font-bold text-slate-900">Simulador de Ahorro Financiero</h3>
                <p class="text-slate-600 mt-1 text-sm">
                    Proyecci√≥n basada en el costo operativo promedio de un funcionario en Rioblanco (Salario + Prestaciones).
                </p>
            </div>

            <div class="bg-white border border-slate-200 rounded-2xl p-6 shadow-sm">
                <div class="mb-8 p-4 bg-slate-50 rounded-xl">
                    <label for="volumeSlider" class="flex justify-between text-sm font-bold text-slate-700 mb-4">
                        <span>Volumen Mensual de PQRSD</span>
                        <span id="volumeValue" class="text-teal-700 text-xl">1,000</span>
                    </label>
                    <input type="range" id="volumeSlider" min="100" max="5000" step="100" value="1000" 
                           class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-teal-600">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                    <div class="bg-teal-50 p-5 rounded-xl border border-teal-100 text-center relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-2 opacity-10 text-teal-900 text-4xl font-bold">$</div>
                        <p class="text-xs text-teal-800 uppercase font-bold tracking-wide mb-1">Ahorro Mensual Estimado</p>
                        <p id="moneySaved" class="text-3xl font-extrabold text-teal-700">$ 13.300.000</p>
                        <p class="text-[10px] text-teal-600 mt-1">*Base: $28.500 COP/Hora (Costo empresa)</p>
                    </div>
                    
                    <div class="bg-white p-5 rounded-xl border border-slate-100 text-center shadow-sm">
                        <p class="text-xs text-slate-500 uppercase tracking-wide mb-1">Horas Liberadas</p>
                        <p id="timeSaved" class="text-2xl font-bold text-slate-800">467 Horas</p>
                        <p class="text-[10px] text-slate-400 mt-1">Equivalente a 2.5 funcionarios a tiempo completo</p>
                    </div>

                    <div class="bg-white p-5 rounded-xl border border-slate-100 text-center shadow-sm">
                        <p class="text-xs text-slate-500 uppercase tracking-wide mb-1">Eficiencia Papel</p>
                        <p id="paperSaved" class="text-2xl font-bold text-amber-600">3,000 Hojas</p>
                        <p class="text-[10px] text-slate-400 mt-1">Reducci√≥n huella de carbono</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-xs font-bold text-slate-400 uppercase text-center mb-4">Tiempo por Tr√°mite (Minutos)</h4>
                        <div class="chart-container h-64">
                            <canvas id="timeChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h4 class="text-xs font-bold text-slate-400 uppercase text-center mb-4">Reasignaci√≥n de Labores Humanas</h4>
                        <div class="chart-container h-64">
                            <canvas id="roleChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-8 text-center text-sm">
        <p>¬© 2025 Oficina TIC - Alcald√≠a de Rioblanco, Tolima.</p>
        <p class="text-xs text-slate-600 mt-2">Estudio de factibilidad para uso interno.</p>
    </footer>

    <script>
        // --- 1. Datos y Estado ---
        const archData = {
            ingesta: {
                title: "1. Ingesta: Ventanilla √önica",
                content: "Centralizaci√≥n de correos, WhatsApp y documentos f√≠sicos escaneados. Se genera un √∫nico n√∫mero de radicado para seguimiento.",
                tags: ["OCR Tesseract", "Scanner Kodak", "Gmail API"]
            },
            analisis: {
                title: "2. El Cerebro: An√°lisis IA",
                content: "Lectura autom√°tica del contenido. La IA identifica si es una petici√≥n, queja o reclamo, extrae c√©dulas y predios, y sugiere la clasificaci√≥n TRD.",
                tags: ["GPT-4o Mini", "Python", "Validaci√≥n RegEx"]
            },
            asignacion: {
                title: "3. Distribuci√≥n Autom√°tica",
                content: "El sistema env√≠a el tr√°mite directamente a la bandeja de entrada del Secretario competente (ej. Planeaci√≥n, Hacienda) sin pasar por patinadores.",
                tags: ["Workflow", "Notificaci√≥n Email", "Trazabilidad"]
            }
        };

        // --- 2. L√≥gica Arquitectura ---
        function updateArch(phase) {
            document.querySelectorAll('.phase-card').forEach(btn => {
                btn.classList.remove('active', 'border-teal-700');
                btn.classList.add('bg-slate-50');
            });
            const activeBtn = document.getElementById(`btn-${phase}`);
            activeBtn.classList.add('active');
            activeBtn.classList.remove('bg-slate-50');

            const data = archData[phase];
            const tagsHtml = data.tags.map(t => `<span class="px-2 py-1 bg-teal-100 text-teal-800 text-xs rounded-md font-medium mr-2">${t}</span>`).join('');
            
            document.getElementById('arch-content').innerHTML = `
                <div class="animate-fade-in">
                    <h4 class="text-xl font-bold text-teal-800 mb-2">${data.title}</h4>
                    <p class="text-slate-600 text-sm mb-4 leading-relaxed">${data.content}</p>
                    <div class="flex flex-wrap gap-2 mt-auto">${tagsHtml}</div>
                </div>
            `;
        }

        // --- 3. L√≥gica ROI y Gr√°ficos ---
        let timeChart, roleChart;
        // Costo hora promedio funcionario (Salario + Prestaciones + Parafiscales)
        // Estimado para un t√©cnico/profesional grado medio en municipio: $28,500 COP
        const HOURLY_RATE_COP = 28500; 

        function initCharts() {
            // Gr√°fico Barras (Tiempo)
            const ctxTime = document.getElementById('timeChart').getContext('2d');
            timeChart = new Chart(ctxTime, {
                type: 'bar',
                data: {
                    labels: ['Manual', 'Modelo Pulpo'],
                    datasets: [{
                        label: 'Minutos por Tr√°mite',
                        data: [35, 5],
                        backgroundColor: ['#94A3B8', '#0D9488'],
                        borderRadius: 4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });

            // Gr√°fico Dona (Roles)
            const ctxRole = document.getElementById('roleChart').getContext('2d');
            roleChart = new Chart(ctxRole, {
                type: 'doughnut',
                data: {
                    labels: ['Mec√°nico/Repetitivo', 'An√°lisis/Calidad'],
                    datasets: [{
                        data: [80, 20],
                        backgroundColor: ['#EF4444', '#10B981'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
        }

        function updateROI() {
            const volume = parseInt(document.getElementById('volumeSlider').value);
            document.getElementById('volumeValue').innerText = volume.toLocaleString();

            // C√°lculos
            // Manual: 0.58 horas (35 min) por tr√°mite total
            // IA: 0.08 horas (5 min) por tr√°mite total (s√≥lo revisi√≥n)
            const manualHours = volume * 0.58;
            const aiHours = volume * 0.08;
            const savedHours = Math.round(manualHours - aiHours);
            
            // C√°lculo Monetario
            const moneySaved = savedHours * HOURLY_RATE_COP;

            // DOM Updates
            document.getElementById('timeSaved').innerText = `${savedHours.toLocaleString()} Horas`;
            document.getElementById('paperSaved').innerText = `${(volume * 3).toLocaleString()} Hojas`;
            
            // Formatear dinero a Pesos Colombianos
            document.getElementById('moneySaved').innerText = new Intl.NumberFormat('es-CO', { 
                style: 'currency', 
                currency: 'COP',
                maximumFractionDigits: 0 
            }).format(moneySaved);

            // Actualizar Gr√°fico Dona din√°micamente
            // A m√°s volumen, la IA absorbe m√°s trabajo mec√°nico porcentualmente respecto al total
            let qualityWork = 20 + (volume / 200); // Simulaci√≥n simple
            if(qualityWork > 60) qualityWork = 60;
            let mechanicalWork = 100 - qualityWork;

            roleChart.data.datasets[0].data = [mechanicalWork, qualityWork];
            roleChart.update();
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            updateArch('ingesta');
            initCharts();
            updateROI();
            document.getElementById('volumeSlider').addEventListener('input', updateROI);
        });
    </script>
</body>
</html>
